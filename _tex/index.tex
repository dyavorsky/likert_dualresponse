% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  letterpaper,
  DIV=11,
  numbers=noendperiod]{scrartcl}

\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else  
    % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\setlength{\emergencystretch}{3em} % prevent overfull lines
\setcounter{secnumdepth}{5}
% Make \paragraph and \subparagraph free-standing
\makeatletter
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}{
    \@ifstar
      \xxxParagraphStar
      \xxxParagraphNoStar
  }
  \newcommand{\xxxParagraphStar}[1]{\oldparagraph*{#1}\mbox{}}
  \newcommand{\xxxParagraphNoStar}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}{
    \@ifstar
      \xxxSubParagraphStar
      \xxxSubParagraphNoStar
  }
  \newcommand{\xxxSubParagraphStar}[1]{\oldsubparagraph*{#1}\mbox{}}
  \newcommand{\xxxSubParagraphNoStar}[1]{\oldsubparagraph{#1}\mbox{}}
\fi
\makeatother


\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
% definitions for citeproc citations
\NewDocumentCommand\citeproctext{}{}
\NewDocumentCommand\citeproc{mm}{%
  \begingroup\def\citeproctext{#2}\cite{#1}\endgroup}
\makeatletter
 % allow citations to break across lines
 \let\@cite@ofmt\@firstofone
 % avoid brackets around text for \cite:
 \def\@biblabel#1{}
 \def\@cite#1#2{{#1\if@tempswa , #2\fi}}
\makeatother
\newlength{\cslhangindent}
\setlength{\cslhangindent}{1.5em}
\newlength{\csllabelwidth}
\setlength{\csllabelwidth}{3em}
\newenvironment{CSLReferences}[2] % #1 hanging-indent, #2 entry-spacing
 {\begin{list}{}{%
  \setlength{\itemindent}{0pt}
  \setlength{\leftmargin}{0pt}
  \setlength{\parsep}{0pt}
  % turn on hanging indent if param 1 is 1
  \ifodd #1
   \setlength{\leftmargin}{\cslhangindent}
   \setlength{\itemindent}{-1\cslhangindent}
  \fi
  % set entry spacing
  \setlength{\itemsep}{#2\baselineskip}}}
 {\end{list}}
\usepackage{calc}
\newcommand{\CSLBlock}[1]{\hfill\break\parbox[t]{\linewidth}{\strut\ignorespaces#1\strut}}
\newcommand{\CSLLeftMargin}[1]{\parbox[t]{\csllabelwidth}{\strut#1\strut}}
\newcommand{\CSLRightInline}[1]{\parbox[t]{\linewidth - \csllabelwidth}{\strut#1\strut}}
\newcommand{\CSLIndent}[1]{\hspace{\cslhangindent}#1}

\usepackage{mathtools,amsmath}
\KOMAoption{captions}{tableheading}
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother

\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage{bookmark}

\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Ordinal Dual Response in Choice-Based Conjoint Analysis},
  pdfauthor={Prachi Bhalerao; Dan Yavorsky; Geoffery Zheng},
  pdfkeywords={choice-based conjoint analysis, stated preference
elicitation, discrete choice methods, ordered choice},
  colorlinks=true,
  linkcolor={blue},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}


\title{Ordinal Dual Response in Choice-Based Conjoint Analysis}
\author{Prachi Bhalerao \and Dan Yavorsky \and Geoffery Zheng}
\date{2024-07-09}

\begin{document}
\maketitle
\begin{abstract}
We provide a behavioral model that rationalizes the use of a
dual-response framework in choice-based conjoint analysis and extends
the evaluation of the purchase decision from binary to ordinal.
Consumers are able to identify their most-preferred option among a set
of alternatives, but face uncertainty in their evalulation of the
outside good. A simulation study provides estimation routines for
aggregate and Hierarhical Bayesian versions of the model, and
demonstrates the model's superior performance compared with the binary
and heuristic approaches currently used by practioners. We also provide
an empirical example from a choice-based conjoint analysis conducted in
partnership with a consumer insights consultancy.
\end{abstract}


  \newcommand{\x}{\mathbf{x}}
  \newcommand{\bfbeta}{\boldsymbol{\beta}}
  \newcommand{\iid}{\stackrel{iid}{\sim}}

\section{Introduction}\label{sec-intro}

Motivate with:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Anecdotes:

  \begin{itemize}
  \tightlist
  \item
    Quote stats on cart abandonment rates. Consumers can pick a
    preferred bluetooth speaker out of many brands (or a preferred color
    out of many options from the same brand), but then they may hesitate
    making the purchase.
  \item
    no unusual reaction from consumers if you ask them ``how likely are
    you to purchase?'' Uncertainty about making a purchase ``feels
    natural.''
  \end{itemize}
\item
  Psych findings:

  \begin{itemize}
  \tightlist
  \item
    {[}possibly use{]} decoy effect: low purchase prob when coke machine
    by iteslf, but high coke and pepsi purchase prob when machines
    side-by-side,
  \end{itemize}
\item
  Practice:

  \begin{itemize}
  \tightlist
  \item
    Brazell et al 2006 paper
  \item
    Sawtooth's implementation in Lighthouse Studio application
  \end{itemize}
\end{enumerate}

Describe: The dual-response framework asks for an immediate comparison
(which of these things in front of you do you like best) and a
hypothetical future scenario (if this product was available to purchase
in the near future, would you purchase it). We provide a behavioral
model that rationalizes use of the dual-response framework

\section{Model}\label{sec-model}

\subsection{Set Up}\label{set-up}

Consumer \(i=1,\ldots,N\) derives utility from good
\(j \in \mathcal{J}_i =  \lbrace 0,\ldots,J_i \rbrace\) with utility
\(u_{ij}\) given by \[
u_{ij} = h(\x_j, \bfbeta_i) + \eta_{ij}.
\] where \(\x_j\) is a length-\(P\) column vector of good
characteristics, \(\bfbeta_i\) is a length-\(P\) column vector of
consumer-specific taste parameters, and \(\eta_{ij}\) encapsulates
factors known to the consumer but unobserved by the researcher. We take
\(h(\x_j, \bfbeta_i) = \x_j'\bfbeta_i\) but this specification is not
required.

The ``zero''-th (or ``outside'') good is special and is associated with
a zero vector of good characteristics (\(\x_0 = \mathbf{0}\)) such that
\(h(\x_0, \bfbeta_i)=0\). Consumers observe \(\x_j\) and \(\eta_{ij}\)
for all ``inside'' goods (\(j>0; j \in \mathcal{J}_i\)), but they
\emph{do not} observe \(\eta_{i0}\).

The consumer first reports her preferred inside good, which is given by
\[
j^*_i = \arg\max_{j>0; \; j \in \mathcal{J}_i} u_{ij}.
\]

The consumer then reports a value \(y_i\) on a discrete qualitative
scale \(w \in \mathcal{W} = \lbrace 1, \ldots, W \rbrace\) to reflect
the probability \(p_i\) that she would purchase \(j^*\), i.e., that she
prefers good \(j^*_i\) to the outside good \(j=0\).

Apportion the range of \(F\) into a number \(W\) of intervals
\(\phi_w = \left[ \alpha_{w-1}, \alpha_w \right)\), where
\(\alpha_0 = 0\) and \(\alpha_W = 1\). We assume that consumers share
the definition of the qualitative scale and thus understand these
intervals, whereas \(\alpha_w\) for \(0<w<W\) are unobserved by the
researcher and are to be estimated.

Let \(u_i^*\) denote the utility of good \(j^*_i\) for consumer \(i\).
Consumers know \(u_i^*\), but do not know \(\eta_{i0}\), and thus the
purchase probability from the consumer's perspective given by \[
p_i = \Pr \left( \eta_{i0} < u_i^* \right) = F\left( u_i^* \right).
\]

The act of reporting the interval \(y_i=w\) into which \(p_i\) falls,
reveals that \(p_i \in \left[\alpha_{w-1},\alpha_w\right)\) and is
therefore equivalent to reporting that \[
u_i^* \in \left[
    F^{-1} \left( \alpha_{w_{i-1}} \right), \;
    F^{-1} \left( \alpha_{w_i}     \right)
\right],
\]

\subsection{Probability Specification}\label{probability-specification}

We model \(\eta_{ij} \iid \text{Gumbel} \left( 0,1 \right)\) with
\(\eta_{ij}\) assumed to be independent of both \(\x_j\) and
\(\eta_{ik}\) for \(k \ne j\).\footnote{This can be motivated by a
  framework in which \(u_0 = 0\) and
  \(u_{ij} = {\x_j}'\bfbeta_i + \eta_{ij} - \eta_0\) for
  \(j>0; j \in \mathcal{J}_i\). Here, \(\eta_0\) captures the consumer's
  uncertainty about their future tastes. Given that utilities are
  ordinal and \(\eta_0\) is a common shock, it plays no role in the
  choice among the most preferred inside good \(j^* \in \mathcal{J}_i\).}

From the consumer's perspective, \[
p_i = \Pr \left( \eta_{i0} < u_i^* \right) = F_{\text{Gumble}\left(0,1\right)} \left( u_i^* \right).
\] and \(\Pr(y_i=w)\) is given by \[
\Pr(y_i=w)
= 
F_{\text{Gumbel}\left(0,1\right)} \left( F^{-1}_{\text{Gumbel}\left(0,1\right)} \left( \alpha_w \right) \right) - 
F_{\text{Gumbel}\left(0,1\right)} \left( F^{-1}_{\text{Gumbel}\left(0,1\right)} \left( \alpha_{w-1} \right) \right)
=
\alpha_w - \alpha_{w-1}.
\]

From the researcher's perspective, the unobserved likelihood of purchase
is \[
p_i = \Pr \left(  u_i^* - \eta_{i0} > 0 \right) = \Pr \left( \varepsilon_i > 0 \right) = 1 - \Pr \left( \varepsilon_i < 0 \right)
\] where \(\varepsilon_i = u_i^* - \eta_{i0}\). As is well
known,\footnote{See, e.g., (McFadden 1981) or (Cardell 1997).}
\(\varepsilon_i\) follows a Gumbel distribution with location parameter
\(\overline{\mu}_i\) and scale parameter \(1\), where
\begin{equation}\phantomsection\label{eq-max-mu}{
\overline{\mu}_i = \ln \left( \sum_{j\in\mathcal{J}_i} \exp \left( {\x_j}'\bfbeta_i \right) \right).
}\end{equation} and so the unobserved choice probability is \[
p_i = 1 - F_{\text{Gumble} \left( \overline{\mu}_i, 1 \right)} \left( \varepsilon_i \right).
\]

{[}TODO: add a line/paragraph to connect \(p_i\) above to
\(\Pr \left( u_i^* \in \phi_{w\left( i \right)} \right)\) below.{]}

Therefore, the probability that consumer \(i\) reports \(y_i=w\) is \[
\begin{aligned}
    \Pr \left( u_i^* \in \phi_{w\left( i \right)} \right) 
    &= F_{\text{Gumbel} \left( \overline{ \mu, 1 } \right) } \left( F^{-1}_{\text{Gumbel} \left( 0, 1 \right) } \left( \alpha_{w_i} \right) \right) - 
       F_{\text{Gumbel} \left( \overline{ \mu, 1 } \right) } \left( F^{-1}_{\text{Gumbel} \left( 0, 1 \right) } \left( \alpha_{w_i-1} \right) \right) \\
    &= \left( \alpha_{w_i} \right)^{\exp \left( \overline{\mu} \right)} - 
       \left({\alpha_{w_i-1}} \right)^{\exp \left( \overline{\mu} \right)}.
\end{aligned}
\]

We note that, while the parametrization of
\(\eta_0 \sim \text{Gumbel}\left(0,1\right)\) preserves symmetry among
the \(J+1\) goods and is thus a natural choice, the framework can easily
accommodate an alternative distribution for \(\eta_0\). For example, one
could use an affine function of individual characteristics to
accommodate individual-level variation in the propensity to prefer the
outside good.

\section{Simulation Study}\label{sec-simstudy}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Agg MNL
\end{enumerate}

\begin{itemize}
\tightlist
\item
  Simulate data (\(\bfbeta_i = \bfbeta\)), then:
\item
  recover parameters
\item
  compare to dichotomized dual-response
\item
  compare to constant-prob (if \(W=5\) set \(\alpha\)'s such that
  \(\Pr(y_i=w) = 1/5\) )
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  HB MNL
\end{enumerate}

\begin{itemize}
\tightlist
\item
  Same 4 things as above
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Assessing \(\alpha\) cut-points
\end{enumerate}

\begin{itemize}
\tightlist
\item
  May need to try extreme values for some \(\alpha\)'s
\item
  What happens when different consumers have different interpretation of
  the \(W\) categories such that \(\alpha\)'s are not the same for all
  consumers?
\end{itemize}

\section{Empirical Analysis}\label{sec-analysis}

add

\section{Discussion}\label{sec-discussion}

Differs from (Brazell et al. 2006)

\section{Conclusion}\label{sec-conclusion}

add

\section*{References}\label{references}
\addcontentsline{toc}{section}{References}

\phantomsection\label{refs}
\begin{CSLReferences}{1}{0}
\bibitem[\citeproctext]{ref-Brazell_2006}
Brazell, Jeff D., Christopher G. Diener, Ekaterina Karniouchina, William
L. Moore, Válerie Séverin, and Pierre-Francois Uldry. 2006. {``The
No-Choice Option and Dual Response Choice Designs.''} \emph{Marketing
Letters} 17 (4): 255--68.
\url{https://doi.org/10.1007/s11002-006-7943-8}.

\bibitem[\citeproctext]{ref-Cardell_1997}
Cardell, N. Scott. 1997. {``Variance Components Structures for the
Extreme-Value and Logistic Distributions with Application to Models of
Heterogeneity.''} \emph{Econometric Theory} 13 (2): 185--213.
\url{https://doi.org/10.1017/s0266466600005727}.

\bibitem[\citeproctext]{ref-Mcfadden_1981}
McFadden, Daniel L. 1981. {``Structural Discrete Probability Models
Derived from Theories of Choice.''} In, 198--272. The MIT Press.

\end{CSLReferences}




\end{document}
