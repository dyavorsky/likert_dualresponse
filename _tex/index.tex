% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
]{article}

\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else  
    % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\setlength{\emergencystretch}{3em} % prevent overfull lines
\setcounter{secnumdepth}{5}
% Make \paragraph and \subparagraph free-standing
\makeatletter
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}{
    \@ifstar
      \xxxParagraphStar
      \xxxParagraphNoStar
  }
  \newcommand{\xxxParagraphStar}[1]{\oldparagraph*{#1}\mbox{}}
  \newcommand{\xxxParagraphNoStar}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}{
    \@ifstar
      \xxxSubParagraphStar
      \xxxSubParagraphNoStar
  }
  \newcommand{\xxxSubParagraphStar}[1]{\oldsubparagraph*{#1}\mbox{}}
  \newcommand{\xxxSubParagraphNoStar}[1]{\oldsubparagraph{#1}\mbox{}}
\fi
\makeatother


\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
% definitions for citeproc citations
\NewDocumentCommand\citeproctext{}{}
\NewDocumentCommand\citeproc{mm}{%
  \begingroup\def\citeproctext{#2}\cite{#1}\endgroup}
\makeatletter
 % allow citations to break across lines
 \let\@cite@ofmt\@firstofone
 % avoid brackets around text for \cite:
 \def\@biblabel#1{}
 \def\@cite#1#2{{#1\if@tempswa , #2\fi}}
\makeatother
\newlength{\cslhangindent}
\setlength{\cslhangindent}{1.5em}
\newlength{\csllabelwidth}
\setlength{\csllabelwidth}{3em}
\newenvironment{CSLReferences}[2] % #1 hanging-indent, #2 entry-spacing
 {\begin{list}{}{%
  \setlength{\itemindent}{0pt}
  \setlength{\leftmargin}{0pt}
  \setlength{\parsep}{0pt}
  % turn on hanging indent if param 1 is 1
  \ifodd #1
   \setlength{\leftmargin}{\cslhangindent}
   \setlength{\itemindent}{-1\cslhangindent}
  \fi
  % set entry spacing
  \setlength{\itemsep}{#2\baselineskip}}}
 {\end{list}}
\usepackage{calc}
\newcommand{\CSLBlock}[1]{\hfill\break\parbox[t]{\linewidth}{\strut\ignorespaces#1\strut}}
\newcommand{\CSLLeftMargin}[1]{\parbox[t]{\csllabelwidth}{\strut#1\strut}}
\newcommand{\CSLRightInline}[1]{\parbox[t]{\linewidth - \csllabelwidth}{\strut#1\strut}}
\newcommand{\CSLIndent}[1]{\hspace{\cslhangindent}#1}

\usepackage[margin=1in]{geometry}
\usepackage{graphicx} % Required for inserting images
\usepackage{mathtools,amsthm,mleftright}
\usepackage{unicode-math}
\usepackage{microtype}
\usepackage{fnpct}
% \usepackage{bm}

\usepackage[usenames,dvipsnames]{xcolor}
\definecolor{NYUviolet}{RGB}{87,6,140}

\usepackage[]{mdframed}
\usepackage{hyperref}
% \usepackage{footnotebackref}

% draw a frame around given text
\newcommand{\framedtext}[1]{%
\par%
\noindent\fbox{%
    \parbox{\dimexpr\linewidth-2\fboxsep-2\fboxrule}{#1}%
}%
}

\newcommand{\GXZa}[1]{\framedtext{\small \color{NYUviolet}%
#1
}}

% \usepackage[backend=biber,autolang=other,%
% bibencoding=inputenc,authordate,backref]{biblatex-chicago}
% \newcounter{BackrefHyperFootnoteCounter}
% \makeatletter
% \pretocmd{\footnote}    
%     {\refstepcounter{BackrefHyperFootnoteCounter}%
%      \edef\BackrefFootnoteTag{bhfn:\theBackrefHyperFootnoteCounter}%
%      \label{\BackrefFootnoteTag}}
%     {}{}
% \renewcommand\@makefntext[1]{% Provides in-line footnote marks
%   \setlength\parindent{1em}%
%   \noindent
%   \makebox[2.3em][r]{\hyperref[\BackrefFootnoteTag]{\@thefnmark}.\,\,}#1}
% \makeatother

\usepackage{comment}
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother

\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage{bookmark}

\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Likert Scale Dual Response in Conjoint Analysis},
  pdfauthor={Prachi Bhalerao; Eric Bradlow; Dan Yavorsky},
  pdfkeywords={choice-based conjoint analysis, stated preference
elicitation, discrete choice methods},
  colorlinks=true,
  linkcolor={blue},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}


\title{Likert Scale Dual Response in Conjoint Analysis}
\author{Prachi Bhalerao \and Eric Bradlow \and Dan Yavorsky}
\date{2024-07-02}

\begin{document}
\maketitle
\begin{abstract}
Write the abstract here \ldots{}
\end{abstract}


\section{Introduction}\label{sec-intro}

Lorem ipsum

\section{Model}\label{sec-model}

Assume some universal partitioning of the unit interval into \(W\)
disjoint intervals with cutoffs denoted by the
\(\left(W+1\right)\)-dimensional vector
\(\symbfit{\pi} \in \Delta^{W-1}\). Let \(\symbfit{\alpha}\) denote the
partial sums of \(\symbfit{\pi}\), so that \[
    \begin{array}{*9{c}}
       \symbfit{\alpha}  = \big\lbrace 0, & \pi_1, & \pi_1 + \pi_2, & \ldots, & \underbrace{\sum_{i=1}^{w} \pi_{i}}, & \ldots, & 1\big\rbrace \\
         & & & & \alpha_w 
    \end{array}
\] \[
    \vphantom{\bigcup_{w=1}^W} \mathcal{W}_w = \left[\alpha_{w-1}, \alpha_w\right)
\] \[
    \bigcup_{w=1}^W \mathcal{W}_i = \left[0, 1\right)
\]

Consumer \(i\)'s utility for good \(j\) is given by \[
    U_{ij} = {X_j}'\beta_i + \eta_{ij},\quad \eta_{ij} \sim \text{Gumbel}\mleft(0,1\mright)
\] where \(X\) is the design matrix of good characteristics and \(X^j\)
denotes the \textit{j}\textsuperscript{th} row of \(X\). The
``zero'\,'-th good is special and is associated with a zero vector of
good characteristics. Consumers observe \(X\) and \(\eta\) for all goods
\(j \in \mathcal{J}\), but they \emph{do not} observe
\(\eta_{i0}\).\footnote{This can be motivated by a framework in which $U_0 = 0$ and $U_{ij} = {X_j}'\beta_i + \eta_{ij} - \eta_0$ for $j \in \mathcal{J}$. Here, $\eta_0$ captures the consumer's uncertainty about their future tastes. Given that utilities are ordinal and $\eta_0$ is a common shock, it plays no role in the choice among the most preferred good $j^* \in \mathcal{J}$.}

First, consumers report their preferred good in
\(\mathcal{J} = \left\lbrace 1, 2, \ldots\,, J\right\rbrace\), which is
given by \[
    t_i = e_{j^*_i}\ \text{s.t.}\ j^*_i = \arg\max_{j\in\mathcal{J}} U_{ij}.
\] Let \(V_i\) denote the utility of good \(j^*_i\) for consumer \(i\).

Second, consumers report the probability that they prefer good \(j^*_i\)
to the outside good 0. Consumers know \(V_i\), but do not know their
draw of \(\eta_{i0}\), and thus this probability is given by \[
    p_i = \mathbb{P}\mleft(\eta_{i0} < V_i \mright).
\] Each consumer reports the interval \(\mathcal{W}_w\) into which
\(p_i\) falls \[
    w_i = w\ \text{s.t.}\ p_i \in \left[\alpha_{w-1},\alpha_w\right).
\]

\subsection{Deriving the Likelihood}\label{deriving-the-likelihood}

As is well known,\footnote{For example, see (McFadden 1981) and (Cardell
  1997).} \(V_i\) follows a Gumbel distribution with location parameter
\(\overline{\mu}_i\) and scale parameter 1, where
\begin{equation}\phantomsection\label{eq-max-mu}{
    \overline{\mu}_i = \ln\left( \sum_{j\in\mathcal{J}} \exp\left({X_j}'\beta_i\right)\right).
}\end{equation}

Under these assumptions, we have \[
    p_i = F_{\text{Gumbel}\mleft(0,1\mright)}\mleft(V_i\mright)
\] The consumer's report of \(w_i\) is therefore equivalent to reporting
that \[
    V_i \in \left[
        F^{-1}_{\text{Gumbel}\mleft(0\mright)}\mleft(\alpha_{w\mleft(i\mright)-1}\mright),
        F^{-1}_{\text{Gumbel}\mleft(0\mright)}\mleft(\alpha_{w\mleft(i\mright)}\mright)
    \right),
\] where we omit the common scale parameter for brevity.

This occurs with probability \begin{align}
    \mathbb{P}\mleft(V_i \in \mathcal{W}_{w\mleft(i\mright)}\mright) &= F_{\text{Gumbel}\mleft(\overline{\mu}\mright)}\mleft(F^{-1}_{\text{Gumbel}\mleft(0\mright)}\mleft(\alpha_{w\mleft(i\mright)}\mright)\mright) - F_{\text{Gumbel}\mleft(\overline{\mu}\mright)}\mleft(F^{-1}_{\text{Gumbel}\mleft(0\mright)}\mleft(\alpha_{w\mleft(i\mright)-1}\mright)\mright) \\
    &= \left({\alpha_{w\mleft(i\mright)}}\right)^{\exp\left(\overline{\mu}\right)} - \left({\alpha_{w\mleft(i\mright)-1}}\right)^{\exp\left(\overline{\mu}\right)}.
\end{align} This is \(p\mleft(w_i\mid \alpha, \beta\mright)\), the
conditional likelihood of \(w_i\).\footnote{While the parametrization of
  \(\eta_0 \sim \text{Gumbel}\mleft(0,1\mright)\) preserves symmetry
  among the \(J+1\) goods and is thus a natural choice, the framework
  can easily accommodate an alternative distribution for \(\eta_0\). For
  example, one could use an affine function of individual
  characteristics to accommodate individual-level variation in the
  propensity to prefer the outside good.}

\section{Sketch of Estimation}\label{sketch-of-estimation}

\begin{itemize}
    \item Specify hyper-parameters governing the prior distribution of $\left(\symbf{\pi}, \symbf{\beta}\right)$. There is a relatively large amount of flexibility in the prior distribution over $\beta$. $\symbf{\pi} \sim \text{Dirichlet}$ deterministically maps to $\symbf{\alpha}$.
    \item (First Branch) Given draws of $\left(\alpha, \beta\right)$, the probability that consumer $i$ reports $j^*_i$ is given by a softmax
    \begin{equation}
        p\mleft(j^*_i \mid \alpha, \beta\mright) = p\mleft(j^*_i \mid \beta\mright) = \frac{\exp\left({X_j}'\beta_i\right)}{\sum_{j'\in\mathcal{J}}\exp\left({X_{j'}}'\beta_i\right)}
    \end{equation}
    \item (Second Branch) Given $\left(\alpha, \beta\right)$, the probability that consumer $i$ reports $w_i$ is given by
    \begin{equation}
        p\mleft(w_i \mid \alpha,\beta, j^*_i\mright) = p\mleft(w_i\mid \alpha, \beta\mright) =  \left({\alpha_{w\mleft(i\mright)}}\right)^{\exp\left(\overline{\mu}\right)} - \left({\alpha_{w\mleft(i\mright)-1}}\right)^{\exp\left(\overline{\mu}\right)}
    \end{equation}
    where $\overline{\mu}_i\mleft(\beta_i\mright)$ is a function of consumer $i$'s tastes $\beta_i$ and the design matrix $X$ (@eq-max-mu). Note that the observed choice $j^*_i$ is irrelevant for this likelihood.
\end{itemize}

Thus the overall likelihood (conditional on some draw of parameters) is
\begin{equation}
    p\mleft(\left(j^*_i, w_i\right) \mid \alpha, \beta \mright) = p\mleft(w_i \mid \alpha,\overline{\mu}_i\mleft(\beta\mright) \mright) \times p\mleft(j^* \mid \beta\mright).
\end{equation}

\section{Comment: Relation to the (Brazell et al. 2006) Dual Response
Model}\label{comment-relation-to-the-brazell_2006-dual-response-model}

Another common framework when soliciting consumer preferences is to
directly ask consumers if \(V_i \ge 0\). This implicitly assumes that
\(\eta_{i0} = 0\), so that consumers deterministically know whether or
not the `'inside'\,' good \(j^*_i\) is preferred to the outside good. As
we have already noted, our framework can nest that standard case by
assuming that, rather than following a standard Gumbel distribution,
\(\eta_0\) is instead a degenerate distribution. In such a case, all but
2 of the \(W\) partitions are empty, and the non-empty partitions are
\(\mathcal{W}_0 = \left\lbrace 0 \right\rbrace\) and
\(\mathcal{W}_W = \left\lbrace 1\right\rbrace\), as
\(p_i \in \left\lbrace 0, 1\right\rbrace\).

We acknowledge that this requires a slight abuse of notation, as
\(\mathcal{W}_w\) was defined above using left-closed intervals. These
have the advantage of being invertible under the inverse-CDF mapping. In
the degenerate case, we instead have
\(p\mleft(w_i = W\mid\alpha,\beta\mright) = \mathbb{P}\mleft(\eta_{i0} < V_i\mright) = \mathbb{P}\mleft(V_i > 0\mright) = 1 - \exp\left(-\exp\left(\overline{\mu}\right)\right)\).

\section{Simulation Study}\label{sec-simstudy}

add

\section{Empirical Analysis}\label{sec-analysis}

add

\section{Discussion}\label{sec-discussion}

Differs from (Brazell et al. 2006)

\section{Conclusion}\label{sec-conclusion}

add

\section*{References}\label{references}
\addcontentsline{toc}{section}{References}

\phantomsection\label{refs}
\begin{CSLReferences}{1}{0}
\bibitem[\citeproctext]{ref-Brazell_2006}
Brazell, Jeff D., Christopher G. Diener, Ekaterina Karniouchina, William
L. Moore, Válerie Séverin, and Pierre-Francois Uldry. 2006. {``The
No-Choice Option and Dual Response Choice Designs.''} \emph{Marketing
Letters} 17 (4): 255--68.
\url{https://doi.org/10.1007/s11002-006-7943-8}.

\bibitem[\citeproctext]{ref-Cardell_1997}
Cardell, N. Scott. 1997. {``Variance Components Structures for the
Extreme-Value and Logistic Distributions with Application to Models of
Heterogeneity.''} \emph{Econometric Theory} 13 (2): 185--213.
\url{https://doi.org/10.1017/s0266466600005727}.

\bibitem[\citeproctext]{ref-Mcfadden_1981}
McFadden, Daniel L. 1981. {``Structural Discrete Probability Models
Derived from Theories of Choice.''} In, 198--272. The MIT Press.

\end{CSLReferences}




\end{document}
