{
  "hash": "1eed9fbd45ffede4b308dc8a20009afb",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Likert Scale Dual Response in Conjoint Analysis\n\ndate: last-modified\nnumber-sections: true\n\naffiliations:\n  - id: nyu\n    name: New York University, Shanghai \n  - id: gbk\n    name: GBK Collective\n    \nauthor:\n  - name: Prachi Bhalerao\n    corresponding: false\n    email: prachipbhalerao@gmail.com\n    affiliations: \n      - ref: gbk\n  - name: Dan Yavorsky\n    orcid: 0000-0003-4095-6405\n    corresponding: true\n    email: dyavorsky@gmail.com\n    affiliations: \n      - ref: gbk\n  - name: Geoffery Zheng\n    orcid: 0000-0003-4229-8231\n    corresponding: false\n    email: gxz206@nyu.edu\n    affiliations: \n      - ref: nyu\n\nkeywords: choice-based conjoint analysis, stated preference elicitation, discrete choice methods\n\nabstract: |\n  Write the abstract here ...\n\nplain-language-summary: |\n  Add the plain language summary here ...\n\nkey-points:\n  - add a sentence\n  - maybe two\n  \nbibliography: references.bib\ncitation: true\n---\n## Introduction {#sec-intro}\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\ndata(mtcars)\ncor(mtcars$mpg, mtcars$disp)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] -0.8475514\n```\n\n\n:::\n:::\n\n\n\n## Model {#sec-model}\n\n### Framework Setup\n\nConsumers are indexed by $i=1,2,\\ldots\\,I$. Goods are indexed by $j=1,2,\\ldots\\,J$ and each good is characterized by a vector of characteristics $x_j$. Each consumer has: (i) taste parameters $\\beta_i$, (ii) a good-specific taste shock $\\varepsilon_{ij}$, and (iii) a good-specific taste shock $\\nu_{ij}$. The outside good is indexed with $j=0$ and $x_j = \\mathbf{0}$.\n\nConsumer $i$ derives utility $U_{ij}$ from good $j$, where\n\n$$\nU_{ij} = {x_j}' \\beta_{i} + \\nu_{ij} + \\varepsilon_{ij}.\n$$ {#eq-utility}\n\n\n\n### Another Perspective\n\nAssume some universal partitioning of the unit interval into $W$ disjoint intervals with cutoffs denoted by the $\\left(W+1\\right)$-dimensional vector $\\symbfit{\\pi} \\in \\Delta^{W-1}$. Let $\\symbfit{\\alpha}$ denote the partial sums of $\\symbfit{\\pi}$, so that\n\n$$\n\\begin{gather}\n    \\begin{array}{*9{c}}\n       \\symbfit{\\alpha}  = \\big\\lbrace 0, & \\pi_1, & \\pi_1 + \\pi_2, & \\ldots, & \\underbrace{\\sum_{i=1}^{w} \\pi_{i}}, & \\ldots, & 1\\big\\rbrace \\\\\n         & & & & \\alpha_w \n    \\end{array} \\\\\n    \\vphantom{\\bigcup_{w=1}^W} \\mathcal{W}_w = \\left[\\alpha_{w-1}, \\alpha_w\\right) \\\\\n    \\bigcup_{w=1}^W \\mathcal{W}_i = \\left[0, 1\\right)\n\\end{gather}\n$$\n\nConsumer $i$'s utility for good $j$ is given by\n\n$$\nU_{ij} = {X_j}'\\beta_i + \\eta_{ij},\\quad \\eta_{ij} \\sim \\text{Gumbel}\\left(0,1\\right)\n$$\n\nwhere $X$ is the design matrix of good characteristics and $X^j$ denotes the \\textit{j}\\textsuperscript{th} row of $X$. The ``zero''-th good is special and is associated with a zero vector of good characteristics. Consumers observe $X$ and $\\eta$ for all goods $j \\in \\mathcal{J}$, but they \\emph{do not} observe $\\eta_{i0}$.^[This can be motivated by a framework in which $U_0 = 0$ and $U_{ij} = {X_j}'\\beta_i + \\eta_{ij} - \\eta_0$ for $j \\in \\mathcal{J}$. Here, $\\eta_0$ captures the consumer's uncertainty about their future tastes. Given that utilities are ordinal and $\\eta_0$ is a common shock, it plays no role in the choice among the most preferred good $j^* \\in \\mathcal{J}$.]\n\nFirst, consumers report their preferred good in $\\mathcal{J} = \\left\\lbrace 1, 2, \\ldots\\,, J\\right\\rbrace$, which is given by\n\n$$\nt_i = e_{j^*_i}\\ \\text{s.t.}\\ j^*_i = \\arg\\max_{j\\in\\mathcal{J}} U_{ij}.\n$$\n\nLet $V_i$ denote the utility of good $j^*_i$ for consumer $i$. The consumer observe $U_{ij}$ exactly, and thus faces no uncertainty when reporting $t_i$. \n\nSecond, consumers report the probability that they prefer good $j^*_i$ to the outside good 0. Consumers know $V_i$, but do not know their draw of $\\eta_{i0}$, and thus this probability is given by\n\n$$\np_i = \\mathbb{P}\\left(\\eta_{i0} < V_i \\right).\n$$\n\nEach consumer reports the interval $\\mathcal{W}_w$ into which $p_i$ falls\n\n$$\nw_i = w\\ \\text{s.t.}\\ p_i \\in \\left[\\alpha_{w-1},\\alpha_w\\right).\n$$\n\n\n### Deriving the Likelihood\n\nAs is well known,^[For example, see \\textcite{Mcfadden_1981} and \\textcite{Cardell_1997}.] $V_i$ follows a Gumbel distribution with location parameter $\\overline{\\mu}_i$ and scale parameter 1, where\n\n$$\n\\overline{\\mu}_i = \\ln\\left( \\sum_{j\\in\\mathcal{J}} \\exp\\left({X_j}'\\beta_i\\right)\\right) \\label{eqn:max_mu}.\n$$\n\nUnder these assumptions, we have\n\n$$\np_i = F_{\\text{Gumbel}\\left(0,1\\right)}\\left(V_i\\right)\n$$\n\nThe consumer's report of $w_i$ is therefore equivalent to reporting that\n\n$$\n    V_i \\in \\left[\n        F^{-1}_{\\text{Gumbel}\\left(0\\right)}\\left(\\alpha_{w\\left(i\\right)-1}\\right),\n        F^{-1}_{\\text{Gumbel}\\left(0\\right)}\\left(\\alpha_{w\\left(i\\right)}\\right)\n    \\right),\n$$\n\nwhere we omit the common scale parameter for brevity.\n\nThis occurs with probability\n\n$$\n\\begin{align}\n    \\mathbb{P}\\left(V_i \\in \\mathcal{W}_{w\\left(i\\right)}\\right) &= F_{\\text{Gumbel}\\left(\\overline{\\mu}\\right)}\\left(F^{-1}_{\\text{Gumbel}\\left(0\\right)}\\left(\\alpha_{w\\left(i\\right)}\\right)\\right) - F_{\\text{Gumbel}\\left(\\overline{\\mu}\\right)}\\left(F^{-1}_{\\text{Gumbel}\\left(0\\right)}\\left(\\alpha_{w\\left(i\\right)-1}\\right)\\right) \\\\\n    &= \\left({\\alpha_{w\\left(i\\right)}}\\right)^{\\exp\\left(\\overline{\\mu}\\right)} - \\left({\\alpha_{w\\left(i\\right)-1}}\\right)^{\\exp\\left(\\overline{\\mu}\\right)}.\n\\end{align}\n$$\n\nThis is $p\\left(w_i\\mid \\alpha, \\beta\\right)$, the conditional likelihood of $w_i$.^[While the parametrization of $\\eta_0 \\sim \\text{Gumbel}\\left(0,1\\right)$ preserves symmetry among the $J+1$ goods and is thus a natural choice, the framework can easily accommodate an alternative distribution for $\\eta_0$. For example, one could use an affine function of individual characteristics to accommodate individual-level variation in the propensity to prefer the outside good.]\n\n### Sketch of Estimation\n\n\n- Specify hyper-parameters governing the prior distribution of $\\left(\\symbf{\\pi}, \\symbf{\\beta}\\right)$. There is a relatively large amount of flexibility in the prior distribution over $\\beta$. $\\symbf{\\pi} \\sim \\text{Dirichlet}$ deterministically maps to $\\symbf{\\alpha}$.\n  \n- (First Branch) Given draws of $\\left(\\alpha, \\beta\\right)$, the probability that consumer $i$ reports $j^*_i$ is given by a softmax\n    $$\n        p\\left(j^*_i \\mid \\alpha, \\beta\\right) = p\\left(j^*_i \\mid \\beta\\right) = \\frac{\\exp\\left({X_j}'\\beta_i\\right)}{\\sum_{j'\\in\\mathcal{J}}\\exp\\left({X_{j'}}'\\beta_i\\right)}\n    $$\n\n- (Second Branch) Given $\\left(\\alpha, \\beta\\right)$, the probability that consumer $i$ reports $w_i$ is given by\n    $$\n        p\\left(w_i \\mid \\alpha,\\beta, j^*_i\\right) = p\\left(w_i\\mid \\alpha, \\beta\\right) =  \\left({\\alpha_{w\\left(i\\right)}}\\right)^{\\exp\\left(\\overline{\\mu}\\right)} - \\left({\\alpha_{w\\left(i\\right)-1}}\\right)^{\\exp\\left(\\overline{\\mu}\\right)}\n    $$\n    where $\\overline{\\mu}_i\\left(\\beta_i\\right)$ is a function of consumer $i$'s tastes $\\beta_i$ and the design matrix $X$ provided in Equation~\\ref{eqn:max_mu}.^[Note that the observed choice $j^*_i$ is irrelevant for this likelihood through ``Gumbel distribution magic''. Specifically, it is the ``memory-less'' property of the Gumbel that yields this property.]\n\n\nThus the overall likelihood (conditional on some draw of parameters) looks like\n\n$$\np\\left(\\left(j^*_i, w_i\\right) \\mid \\alpha, \\beta \\right) = p\\left(w_i \\mid \\alpha,\\overline{\\mu}_i\\left(\\beta\\right) \\right) \\times p\\left(j^* \\mid \\beta\\right).\n$$\n\n\n\n## Simulation Study {#sec-simstudy}\n\nadd\n\n## Empirical Analysis {#sec-analysis}\n\nadd\n\n## Discussion {#sec-discussion}\n\nadd\n\n## Conclusion {#sec-conclusion}\n\nadd\n\n\n\n\n\n## References {.unnumbered}\n\n::: {#refs}\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}